#pragma once

/////////////////////////////////////////
/// Header
////////////////////////////////////////
#include "Background.hpp"

class Obstacle {
private:
	/////////////////////////////////////////
	/// \brief Private member of Game.cpp
	////////////////////////////////////////
	int sizeX, sizeY, line = 0;

	/////////////////////////////////////////
	/// \brief Private member of Game.cpp
	////////////////////////////////////////
	float velocity;

	/////////////////////////////////////////
	/// \brief Obstacle's texture
	////////////////////////////////////////
	sf::Texture shapeTexture;

public:
	/////////////////////////////////////////
	/// \brief Constructor
	///
	/// \param _velocity  The velocity of the obstacle
	/// \param _line  The line of the obstacle
	////////////////////////////////////////
	Obstacle(float _velocity, int _line);

	/////////////////////////////////////////
    /// \brief Destructor
	////////////////////////////////////////
	~Obstacle();

	/////////////////////////////////////////
	/// \brief function to render obstacles
	///
	/// \param window The window
	////////////////////////////////////////
	void render(sf::RenderWindow& window);

	/////////////////////////////////////////
	/// \brief function to move obstacles
	///
	/// \param deltatime The deltatime
	////////////////////////////////////////
	void move(float deltatime);

	/////////////////////////////////////////
	/// \brief function to init obstacles composents
	////////////////////////////////////////
	void init();

	/////////////////////////////////////////
	/// \brief function to get the current line of the obstacle
	////////////////////////////////////////
	int getLine();

	/////////////////////////////////////////
	/// \brief function to get the bounds of the safe place of the obstacle
	////////////////////////////////////////
	sf::FloatRect getSafePlaceBounds();

	/////////////////////////////////////////
	/// \brief function to set new positions to obstacle
	///
	/// \param pos New positions
	////////////////////////////////////////
	void setPosition(sf::Vector2f pos);

	/////////////////////////////////////////
	/// \brief Obstacle's shape
	////////////////////////////////////////
	sf::RectangleShape shape, safePlaceShape;
};